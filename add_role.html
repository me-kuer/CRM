<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./static/common/css/base.css">
    <link rel="stylesheet" href="./static/common/plugin/layui/css/layui.css">
    <title>添加角色</title>
    <style>
        .container {
            padding: 20px;
        }

        .layui-form-label {
            width: 100px;
        }

        .role-form {
            margin-top: 20px;
        }

        .layui-input,
        .layui-textarea {
            width: 450px;
        }

        .layui-tree-entry {
            height: 30px;
        }

        #auth_box {
            padding-top: 30px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>
            <i class="layui-icon layui-icon-note"></i>
            添加角色
        </h2>
        <hr>
        <form class="layui-form role-form">
            <div class="layui-form-item">
                <label class="layui-form-label">名称:</label>
                <div class="layui-input-block">
                    <input type="text" name="name" placeholder="请输入角色名称" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">备注:</label>
                <div class="layui-input-block">
                    <textarea name="desc" placeholder="请输入角色备注" class="layui-textarea"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">分配权限:</label>
                <div class="layui-input-block">
                    <div id="auth_box" class="demo-tree-more"></div>
                </div>
            </div>
        </form>
    </div>
</body>

</html>
<script src="./static/common/plugin/layui/layui.js"></script>
<script>
    layui.use(['tree', 'util'], function () {
        var tree = layui.tree;
        var layer = layui.layer;
        var util = layui.util;

        //模拟数据
        var data = [
            {
                title: '一级1',
                id: 1,
                field: 'name1',
                checked: true,
                spread: true,
                children: [{
                    title: '二级1-1 可允许跳转',
                    id: 3,
                    field: 'name11'
                }, {
                    title: '三级1-1-1',
                    id: 7,
                    field: ''
                }, {
                    title: '三级1-1-2',
                    id: 8,
                    field: ''
                }]
            },
            {
                title: '二级1-2'
                , id: 4
                , spread: true
                , children: [{
                    title: '三级1-2-1'
                    , id: 9
                    , field: ''
                    , disabled: true
                }, {
                    title: '三级1-2-2'
                    , id: 10
                    , field: ''
                }]
            }, {
                title: '二级1-3'
                , id: 20
                , field: ''
                , children: [{
                    title: '三级1-3-1'
                    , id: 21
                    , field: ''
                }, {
                    title: '三级1-3-2'
                    , id: 22
                    , field: ''
                }]
        }, {
        title: '一级2'
        , id: 2
        , field: ''
        , spread: true
        , children: [{
            title: '二级2-1'
            , id: 5
            , field: ''
            , spread: true
            , children: [{
                title: '三级2-1-1'
                , id: 11
                , field: ''
            }, {
                title: '三级2-1-2'
                , id: 12
                , field: ''
            }]
        }, {
            title: '二级2-2'
            , id: 6
            , field: ''
            , children: [{
                title: '三级2-2-1'
                , id: 13
                , field: ''
            }, {
                title: '三级2-2-2'
                , id: 14
                , field: ''
                , disabled: true
            }]
        }]
    }, {
        title: '一级3'
        , id: 16
        , field: ''
        , children: [{
            title: '二级3-1'
            , id: 17
            , field: ''
            , fixed: true
            }]
        }, {
            title: '二级3-2'
            , id: 27
            , field: ''
            , children: [{
                title: '三级3-2-1'
                , id: 28
                , field: ''
            }, {
                title: '三级3-2-2'
                , id: 29
                , field: ''
            }]
        }];
    //基本演示
    tree.render({
        elem: '#auth_box'
        , data: data
        , showCheckbox: true  //是否显示复选框
        , id: 'demoId1'
        , isJump: true //是否允许点击节点时弹出新窗口跳转
        , click: function (obj) {
            var data = obj.data;  //获取当前点击的节点数据
            layer.msg('状态：' + obj.state + '<br>节点数据：' + JSON.stringify(data));
        }
    });
    });
</script>